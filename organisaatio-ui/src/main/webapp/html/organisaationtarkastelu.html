<!DOCTYPE html>
<!--
Copyright (c) 2014 The Finnish Board of Education - Opetushallitus

This program is free software:  Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://www.osor.eu/eupl/

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-->

<!-- Organisaation tarkastelu -->
<form name="form" class="form-horizontal" novalidate>

    <div class="control-group">
        <div class="offset2" ng-show="model.organisaatio.nimi">
            <h2>{{model.uriLocalizedNames["nimi"]}}
                <span ng-show="model.paivitys.pvm" id="paivittaja">
                    ({{t('Organisaationtarkastelu.tallennettu')}} {{model.paivitys.pvm}}, {{model.paivitys.paivittaja}})
            </span>
            </h2>
        </div>
    </div>
    <div ng-show="model.organisaatio.metadata.kuvaEncoded">
        <img class="absolute offset8 span4" ng-src="data:image/jpeg;base64, {{model.organisaatio.metadata.kuvaEncoded}}">
    </div>

    <div class="control-group" ng-show="model.organisaatio.tyypit">
        <label class="control-label" tt="Organisaationtarkastelu.organisaatiotyyppi">
            Organisaationtarkastelu.organisaatiotyyppi
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                <div ng-repeat="tyyppi in model.organisaatio.tyypit">
                    {{t(tyyppi)}}<br>
                </div>
            </label>
        </div>
    </div>


    <div class="control-group" ng-show="model.organisaatio.nimi">
        <label class="control-label" tt="Organisaationtarkastelu.nimi">Organisaationtarkastelu.nimi</label>
        <div class="controls">
            <label class="control-label control-label-left">
                <div ng-repeat="avain in organisaatioNimiLangs(model.organisaatio.nimi)| orderBy:orderByLang">
                    {{model.organisaatio.nimi[avain] | decodeAmp}} [{{avain}}]<br>
                </div>
                <div ng-if="model.organisaationTulevaNimi.alkuPvm">
                    <br>
                    {{model.organisaationTulevaNimi.alkuPvm | date:'d.M.yyyy'}} <i class="icon-arrow-right"></i>
                    <div ng-repeat="avain in organisaatioNimiLangs(model.organisaationTulevaNimi.nimi)| orderBy:orderByLang">
                        {{model.organisaationTulevaNimi.nimi[avain] | decodeAmp}} [{{avain}}]<br>
                    </div>
                </div>
            </label>
        </div>
    </div>

    <div class="control-group" ng-show="model.organisaatio.alkuPvm">
        <label class="control-label" tt="Organisaationtarkastelu.voimassaolo">
            Organisaationtarkastelu.voimassaolo
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.organisaatio.alkuPvm| date:'d.M.yyyy'}} - {{model.organisaatio.lakkautusPvm| date:'d.M.yyyy'}}
            </label>
        </div>
    </div>
    <div class="control-group">
        <label class="control-label" tt="Organisaationtarkastelu.organisaationtila">
            Organisaationtarkastelu.organisaationtila
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.organisaationtila}}
            </label>
        </div>
    </div>
    <div class="control-group" ng-show="model.organisaatio.kotipaikkaUri">
        <label class="control-label" tt="Organisaationtarkastelu.kotipaikka">
            Organisaationtarkastelu.kotipaikka
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.uriLocalizedNames[model.organisaatio.kotipaikkaUri]}}
            </label>
        </div>
    </div>

    <div class="control-group" ng-show="model.organisaatio.yritysmuoto" ng-if='model.isKoulutustoimija()'>
        <label class="control-label" tt="Organisaationtarkastelu.yritysmuoto">
            Organisaationtarkastelu.yritysmuoto
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.organisaatio.yritysmuoto}}
            </label>
        </div>
    </div>

    <div class="control-group" ng-show="model.organisaatio.ytunnus" ng-if='model.isKoulutustoimija()'>
        <label class="control-label" tt="Organisaationtarkastelu.ytunnus">
            Organisaationtarkastelu.ytunnus
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.organisaatio.ytunnus}}
            </label>
        </div>
    </div>

    <div class="control-group" ng-show="model.organisaatio.virastotunnus" ng-if='model.isKoulutustoimija()'>
        <label class="control-label" tt="Organisaationtarkastelu.virastotunnus">
            Organisaationtarkastelu.virastotunnus
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.organisaatio.virastotunnus}}
            </label>
        </div>
    </div>

    <div class="control-group" ng-show="model.organisaatio.maaUri">
        <label class="control-label" tt="Organisaationtarkastelu.maa">
            Organisaationtarkastelu.maa
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.uriLocalizedNames[model.organisaatio.maaUri]}}
            </label>
        </div>
    </div>


    <div class="control-group" ng-show="model.organisaatio.kieletUris">
        <label class="control-label" tt="Organisaationtarkastelu.kieli">
            Organisaationtarkastelu.kieli
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                <div ng-repeat="kieli in model.organisaatio.kieletUris">
                    {{model.uriLocalizedNames[kieli]}}<br>
                </div>
            </label>
        </div>
    </div>

    <div class="control-group" ng-show="model.organisaatio.oppilaitosKoodi" ng-if='model.isOppilaitos()'>
        <label class="control-label" tt="Organisaationtarkastelu.tkkoodi">
            Organisaationtarkastelu.tkkoodi
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.organisaatio.oppilaitosKoodi}}
            </label>
        </div>
    </div>

    <div auth="crudOph" auth-service="APP_ORGANISAATIOHALLINTA" class="control-group" ng-if='model.isToimipiste()'>
        <label class="control-label" tt="Organisaationtarkastelu.toimipistekoodi">
            Organisaationtarkastelu.toimipistekoodi
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.organisaatio.toimipistekoodi}}
            </label>
        </div>
    </div>

    <div class="control-group" ng-show="model.organisaatio.oppilaitosTyyppiUri" ng-if='model.isOppilaitos()'>
        <label class="control-label" tt="Organisaationtarkastelu.oppilaitostyyppi">
            Organisaationtarkastelu.oppilaitostyyppi
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                {{model.uriLocalizedNames[model.organisaatio.oppilaitosTyyppiUri]}}
            </label>
        </div>
    </div>

    <div class="control-group" ng-show="model.organisaatio.vuosiluokat" ng-if="model.hasVuosiluokat()">
        <label class="control-label" tt="Organisaationtarkastelu.vuosiluokat">
            Organisaationtarkastelu.vuosiluokat
        </label>
        <div class="controls">
            <label class="control-label control-label-left">
                <div ng-repeat="vl in model.organisaatio.vuosiluokat">
                    {{model.uriLocalizedNames[vl]}}<br>
                </div>
            </label>
        </div>
    </div>

    <hr>

    <div class="row">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="ytexpanded" ng-click="ytexpanded = !ytexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':ytexpanded, 'icon-chevron-right':!ytexpanded}"
                              ng-bind=""></span>
                        {{t('Organisaationmuokkaus.yhteystiedot')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-show="ytexpanded">

        <uib-tabset>
            <uib-tab ng-repeat="yttab in model.yttabs"
                 heading="{{model.uriLocalizedNames[yttab]}}"
                 select="model.ytlang=yttab">
            </uib-tab>
        </uib-tabset>

        <div class="control-group" ng-if="model.yhteystiedot[model.ytlang].kaynti.osoite || model.yhteystiedot[model.ytlang].kaynti.postinumeroUri">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.kayntiosoite">
                    Organisaationtarkastelu.kayntiosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        <span ng-if="model.yhteystiedot[model.ytlang].kaynti.osoite">
                            {{model.yhteystiedot[model.ytlang].kaynti.osoite | decodeAmp}}
                            {{model.uriKoodit[model.yhteystiedot[model.ytlang].kaynti.postinumeroUri].koodiArvo?',':''}}
                        </span>
                        {{model.uriKoodit[model.yhteystiedot[model.ytlang].kaynti.postinumeroUri].koodiArvo}}&nbsp;
                        <span ng-if="model.uriKoodit[model.ytlang].koodiArvo == 'SV'">
                            {{model.uriLangNames["SV"][model.yhteystiedot[model.ytlang].kaynti.postinumeroUri]}}
                        </span>
                        <span ng-if="model.uriKoodit[model.ytlang].koodiArvo != 'SV'">
                            {{model.uriLangNames["FI"][model.yhteystiedot[model.ytlang].kaynti.postinumeroUri]}}
                        </span>
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group" ng-if="model.yhteystiedot[model.ytlang].ulkomainen_kaynti.osoite">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.kayntiosoite">
                    Organisaationtarkastelu.kayntiosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        <pre ng-if="model.yhteystiedot[model.ytlang].ulkomainen_kaynti.osoite">{{model.yhteystiedot[model.ytlang].ulkomainen_kaynti.osoite | decodeAmp}}</pre>
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group" ng-if="model.yhteystiedot[model.ytlang].posti.osoite || model.yhteystiedot[model.ytlang].posti.postinumeroUri">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.postiosoite">
                    Organisaationtarkastelu.postiosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        <span ng-if="model.yhteystiedot[model.ytlang].posti.osoite">
                            {{model.yhteystiedot[model.ytlang].posti.osoite | decodeAmp}}
                            {{model.uriKoodit[model.yhteystiedot[model.ytlang].posti.postinumeroUri].koodiArvo?',':''}}
                        </span>
                        {{model.uriKoodit[model.yhteystiedot[model.ytlang].posti.postinumeroUri].koodiArvo}}&nbsp;
                        <span ng-if="model.uriKoodit[model.ytlang].koodiArvo == 'SV'">
                            {{model.uriLangNames["SV"][model.yhteystiedot[model.ytlang].posti.postinumeroUri]}}
                        </span>
                        <span ng-if="model.uriKoodit[model.ytlang].koodiArvo != 'SV'">
                            {{model.uriLangNames["FI"][model.yhteystiedot[model.ytlang].posti.postinumeroUri]}}
                        </span>
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group" ng-if="model.yhteystiedot[model.ytlang].ulkomainen_posti.osoite">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.postiosoite">
                    Organisaationtarkastelu.postiosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        <pre ng-if="model.yhteystiedot[model.ytlang].ulkomainen_posti.osoite">
                            {{model.yhteystiedot[model.ytlang].ulkomainen_posti.osoite | decodeAmp}}
                        </pre>
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group"ng-if="model.yhteystiedot[model.ytlang].puhelin.numero">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.puhelinnumero">
                    Organisaationtarkastelu.puhelinnumero
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        {{model.yhteystiedot[model.ytlang].puhelin.numero}}
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group" ng-if="model.yhteystiedot[model.ytlang].faksi.numero">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.faksinumero">
                    Organisaationtarkastelu.faksinumero
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        {{model.yhteystiedot[model.ytlang].faksi.numero}}
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group" ng-if="model.yhteystiedot[model.ytlang].www.www">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.wwwosoite">
                    Organisaationtarkastelu.wwwosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        {{model.yhteystiedot[model.ytlang].www.www}}
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group">
            <div>
                <label class="control-label" ng-if="model.yhteystiedot[model.ytlang].email.email"
                       tt="Organisaationtarkastelu.sahkopostiosoite">
                    Organisaationtarkastelu.sahkopostiosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        {{model.yhteystiedot[model.ytlang].email.email}}
                    </label>
                </div>
            </div>
        </div>
        <hr>
    </div> <!-- ytexpanded -->

    <div ng-repeat="yta in model.lisayhteystietoarvos" ng-init="ltexpanded = {}; model.ltlang = {}">
        <div class="row">
            <div class="span4">
                <div class="view-row-label">
                    <a href="" ng-model="ltexpanded[yta.oid]" ng-click="ltexpanded[yta.oid] = !ltexpanded[yta.oid]">
                        <label>
                            <span ng-class="{'icon-chevron-down':ltexpanded[yta.oid], 'icon-chevron-right':!ltexpanded[yta.oid]}"
                                  ng-bind=""></span>
                            {{yta.nimi}}
                        </label>
                    </a>
                </div>
            </div>
        </div>

        <div ng-show="ltexpanded[yta.oid]">
            <uib-tabset>
                <uib-tab ng-repeat="lttab in model.lttabs"
                     heading="{{model.uriLocalizedNames[lttab]}}"
                     select="model.ltlang[yta.oid]=lttab">
                </uib-tab>
            </uib-tabset>

            <div class="control-group" ng-repeat="yt in model.organisaatio.yhteystietoArvos"
                 ng-show="yt['YhteystietojenTyyppi.oid'] === yta.oid && yt['YhteystietoArvo.kieli'] === model.ltlang[yta.oid]">
                <label class="control-label">
                    {{model.getLocalizedLisatietoElementtiNimi(yt)}}
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        {{yt['YhteystietoArvo.arvoText']}}
                    </label>
                </div>
            </div>
            <hr>
        </div> <!-- ltexpanded -->
    </div>

    <div class="row">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="hpexpanded" ng-click="hpexpanded = !hpexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':hpexpanded, 'icon-chevron-right':!hpexpanded}"></span>
                        {{t('Organisaationmuokkaus.hakijapalvelut')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-show="hpexpanded">
        <uib-tabset>
            <uib-tab ng-repeat="tab in model.mkSections.hp.tabs"
                 active="tab.active"
                 select="model.hplang=tab.lang"
                 heading="{{model.uriLocalizedNames[tab.lang]}}">
            </uib-tab>
        </uib-tabset>


        <div class="control-group" ng-if="model.organisaatio.metadata.hakutoimistonNimi[model.hplang]">
            <label class="control-label" tt="Organisaationtarkastelu.hakutoimistonnimi">
                Organisaationtarkastelu.hakutoimistonnimi
            </label>
            <div class="controls">
                <label class="control-label control-label-left">
                    {{model.organisaatio.metadata.hakutoimistonNimi[model.hplang] | decodeAmp}}
                </label>
            </div>
        </div>

        <div class="control-group" ng-if="model.mdyhteystiedot[model.hplang].kaynti.osoite || model.mdyhteystiedot[model.hplang].kaynti.postinumeroUri">
            <label class="control-label" tt="Organisaationtarkastelu.kayntiosoite">
                Organisaationtarkastelu.kayntiosoite
            </label>
            <div class="controls">
                <label class="control-label control-label-left">
                    <span ng-if="model.mdyhteystiedot[model.hplang].kaynti.osoite">
                        {{model.mdyhteystiedot[model.hplang].kaynti.osoite | decodeAmp}},&nbsp;
                    </span>
                    {{model.uriKoodit[model.mdyhteystiedot[model.hplang].kaynti.postinumeroUri].koodiArvo}}&nbsp;
                    <span ng-if="model.uriKoodit[model.hplang].koodiArvo == 'SV'">
                        {{model.uriLangNames["SV"][model.mdyhteystiedot[model.hplang].kaynti.postinumeroUri]}}
                    </span>
                    <span ng-if="model.uriKoodit[model.hplang].koodiArvo != 'SV'">
                        {{model.uriLangNames["FI"][model.mdyhteystiedot[model.hplang].kaynti.postinumeroUri]}}
                    </span>
                </label>
            </div>
        </div>

        <div class="control-group" ng-if="model.mdyhteystiedot[model.hplang].ulkomainen_kaynti.osoite">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.kayntiosoite">
                    Organisaationtarkastelu.kayntiosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        <pre ng-if="model.mdyhteystiedot[model.hplang].ulkomainen_kaynti.osoite">{{model.mdyhteystiedot[model.hplang].ulkomainen_kaynti.osoite | decodeAmp}}</pre>
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group" ng-if="model.mdyhteystiedot[model.hplang].posti.osoite || model.mdyhteystiedot[model.hplang].posti.postinumeroUri">
            <label class="control-label" tt="Organisaationtarkastelu.postiosoite">
                Organisaationtarkastelu.postiosoite
            </label>
            <div class="controls">
                <label class="control-label control-label-left">
                    <span ng-if="model.mdyhteystiedot[model.hplang].posti.osoite">
                        {{model.mdyhteystiedot[model.hplang].posti.osoite | decodeAmp}},&nbsp;
                    </span>
                    {{model.uriKoodit[model.mdyhteystiedot[model.hplang].posti.postinumeroUri].koodiArvo}}&nbsp;
                    <span ng-if="model.uriKoodit[model.hplang].koodiArvo == 'SV'">
                        {{model.uriLangNames["SV"][model.mdyhteystiedot[model.hplang].posti.postinumeroUri]}}
                    </span>
                    <span ng-if="model.uriKoodit[model.hplang].koodiArvo != 'SV'">
                        {{model.uriLangNames["FI"][model.mdyhteystiedot[model.hplang].posti.postinumeroUri]}}
                    </span>
                </label>
            </div>
        </div>

        <div class="control-group" ng-if="model.mdyhteystiedot[model.hplang].ulkomainen_posti.osoite">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.postiosoite">
                    Organisaationtarkastelu.postiosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        <pre ng-if="model.mdyhteystiedot[model.hplang].ulkomainen_posti.osoite">{{model.mdyhteystiedot[model.hplang].ulkomainen_posti.osoite | decodeAmp}}</pre>
                    </label>
                </div>
            </div>
        </div>

        <div class="control-group" ng-if="model.mdyhteystiedot[model.hplang].puhelin.numero">
            <label class="control-label" tt="Organisaationtarkastelu.puhelinnumero">
                Organisaationtarkastelu.puhelinnumero
            </label>
            <div class="controls">
                <label class="control-label control-label-left">
                    {{model.mdyhteystiedot[model.hplang].puhelin.numero}}
                </label>
            </div>
        </div>

        <div class="control-group" ng-if="model.mdyhteystiedot[model.hplang].faksi.numero">
            <label class="control-label" tt="Organisaationtarkastelu.faksinumero">
                Organisaationtarkastelu.faksinumero
            </label>
            <div class="controls">
                <label class="control-label control-label-left">
                    {{model.mdyhteystiedot[model.hplang].faksi.numero}}
                </label>
            </div>
        </div>

        <div class="control-group" ng-if="model.mdyhteystiedot[model.hplang].email.email">
            <label class="control-label" tt="Organisaationtarkastelu.sahkopostiosoite">
                Organisaationtarkastelu.sahkopostiosoite
            </label>
            <div class="controls">
                <label class="control-label control-label-left">
                    {{model.mdyhteystiedot[model.hplang].email.email}}
                </label>
            </div>
        </div>

        <div class="control-group" ng-if="model.mdyhteystiedot[model.hplang].www.www">
            <div>
                <label class="control-label" tt="Organisaationtarkastelu.wwwosoite">
                    Organisaationtarkastelu.wwwosoite
                </label>
                <div class="controls">
                    <label class="control-label control-label-left">
                        {{model.mdyhteystiedot[model.hplang].www.www}}
                    </label>
                </div>
            </div>
        </div>

        <hr>
    </div> <!-- hpexpanded -->

    <div class="row">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="smexpanded" ng-click="smexpanded = !smexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':smexpanded, 'icon-chevron-right':!smexpanded}"></span>
                        {{t('Organisaationtarkastelu.sosiaalinenmedia')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-show="smexpanded">

        <uib-tabset>
            <uib-tab ng-repeat="tab in model.mkSections.sm.tabs"
                 active="tab.active"
                 select="model.smlang=tab.lang">
                <uib-tab-heading>
                    {{model.uriLocalizedNames[tab.lang]}}
                </uib-tab-heading>
            </uib-tab>
        </uib-tabset>

        <div class="control-group" ng-show="model.hasSome()">
            <label class="control-label" tt="Organisaationtarkastelu.sosiaalinenmedia">
                Organisaationtarkastelu.sosiaalinenmedia
            </label>
            <div class="controls">
                <label class="control-label control-label-left">
                    <span ng-repeat="field in model.sometypes"
                          ng-if="model.organisaatio.metadata.data[field].hasOwnProperty(model.smlang)">
                    {{model.someurls[field].nimi}}:
                    <a ng-href="{{model.organisaatio.metadata.data[field][model.smlang]| fixHttpLink}}">
                        {{model.organisaatio.metadata.data[field][model.smlang]}}</a>
                    </span>
                    <br/>
                </label>
            </div>
        </div>
        <hr>
    </div> <!-- smexpanded -->

    <div class="row">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="ectsexpanded" ng-click="ectsexpanded = !ectsexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':ectsexpanded, 'icon-chevron-right':!ectsexpanded}"></span>
                        {{t('Organisaationtarkastelu.hakutoimistoectsnimi')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-show="ectsexpanded">

        <uib-tabset>
            <uib-tab ng-repeat="tab in model.mkSections.ects.tabs"
                 active="tab.active"
                 select="model.ectslang=tab.lang">
                <uib-tab-heading>
                    {{model.uriLocalizedNames[tab.lang]}}
                </uib-tab-heading>
            </uib-tab>
        </uib-tabset>

        <div class="control-group" ng-if="model.organisaatio.metadata.hakutoimistoEctsNimi[model.ectslang]">
            <label class="control-label" tt="Organisaationtarkastelu.hakutoimistoectsnimi">
                Organisaationtarkastelu.hakutoimistoectsnimi
            </label>
            <div class="controls">
                <label class="control-label control-label-left">
                    <span> {{t('Organisaationtarkastelu.ECTSnimi')}}: {{model.organisaatio.metadata.hakutoimistoEctsNimi[model.ectslang]}} </span><br>
                    <span ng-if="model.organisaatio.metadata.hakutoimistoEctsTehtavanimike[model.ectslang]">
                        {{t('Organisaationtarkastelu.ECTStehtavanimike')}}: {{model.organisaatio.metadata.hakutoimistoEctsTehtavanimike[model.ectslang]}}
                    </span><br>
                    <span ng-if="model.organisaatio.metadata.hakutoimistoEctsPuhelin[model.ectslang]">
                        {{t('Organisaationtarkastelu.ECTSpuhelinnumero')}}: {{model.organisaatio.metadata.hakutoimistoEctsPuhelin[model.ectslang]}}
                    </span><br>
                    <span ng-if="model.organisaatio.metadata.hakutoimistoEctsEmail[model.ectslang]">
                        <span ng-if="model.organisaatio.metadata.hakutoimistoEctsEmail[model.ectslang]"></span>
                        {{t('Organisaationtarkastelu.ECTSsahkopostiosoite')}}: {{model.organisaatio.metadata.hakutoimistoEctsEmail[model.ectslang]}}
                    </span>
                </label>
            </div>
        </div>
        <hr>
    </div> <!-- ectsexpanded -->

    <div class="row">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="ktexpanded" ng-click="ktexpanded = !ktexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':ktexpanded, 'icon-chevron-right':!ktexpanded}"></span>
                        {{t('Organisaationtarkastelu.koulutustarjoajatiedot')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-show="ktexpanded"> <!-- ktexpanded -->

        <uib-tabset>
            <uib-tab ng-repeat="tab in model.mkSections.kt.tabs"
                 active="tab.active"
                 select="model.ktlang=tab.lang">
                <uib-tab-heading>
                    {{model.uriLocalizedNames[tab.lang]}}
                </uib-tab-heading>
            </uib-tab>
        </uib-tabset>


        <div class="control-group" ng-repeat="field in model.kttypes" ng-show="model.organisaatio.metadata.data[field][model.ktlang]">
            <label class="control-label">
                {{t('Organisaationtarkastelu.' + field)}}
            </label>
            <div class="controls" ng-bind-html="model.organisaatio.metadata.data[field][model.ktlang]">
            </div>
        </div>
        <hr>
    </div> <!-- ktexpanded -->

    <div class="row">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="oeexpanded" ng-click="oeexpanded = !oeexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':oeexpanded, 'icon-chevron-right':!oeexpanded}"></span>
                        {{t('Organisaationtarkastelu.opiskelijanedut')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-show="oeexpanded">
        <uib-tabset>
            <uib-tab ng-repeat="tab in model.mkSections.oe.tabs"
                 active="tab.active"
                 select="model.oelang=tab.lang">
                <uib-tab-heading>
                    {{model.uriLocalizedNames[tab.lang]}}
                </uib-tab-heading>
            </uib-tab>
        </uib-tabset>

        <div class="control-group" ng-repeat="field in model.oetypes" ng-show="model.organisaatio.metadata.data[field][model.oelang]">
            <label class="control-label">
                {{t('Organisaationtarkastelu.' + field)}}
            </label>
            <div class="controls" ng-bind-html="model.organisaatio.metadata.data[field][model.oelang]">
            </div>
        </div>
        <hr>
    </div> <!-- oeexpanded -->

    <div class="row">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="nhexpanded" ng-click="nhexpanded = !nhexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':nhexpanded, 'icon-chevron-right':!nhexpanded}"></span>
                        {{t('Organisaationtarkastelu.nimihistoria')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-if="nhexpanded">
        <div class="row">
            <div class="span8" data-ng-include data-src="'nimihistorialista.html'"></div>
        </div>
    </div> <!-- nhexpanded -->

    <div class="row" ng-show='model.parent.oid!=="1.2.246.562.10.00000000001"'>
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="yoexpanded" ng-click="yoexpanded = !yoexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':yoexpanded, 'icon-chevron-right':!yoexpanded}"></span>
                        {{t('Organisaationtarkastelu.sisaltyyorganisaatioon')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-if="yoexpanded">
            <div class="row">
                <label class="offset2">
                    <a href='organisaatiot/{{model.parent.oid}}'>{{model.uriLocalizedNames.parentnimi}} ({{t(model.parent.tyypit[0])}})</a>
                </label>
            </div>
        <hr>
    </div> <!-- yoexpanded -->

    <div class="row" ng-show="model.aliorganisaatiot.length">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="aoexpanded" ng-click="aoexpanded = !aoexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':aoexpanded, 'icon-chevron-right':!aoexpanded}"></span>
                        {{t('Organisaationtarkastelu.sisaltyvatorganisaatiot')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-if="aoexpanded">
        <div ng-repeat="aliorg in model.aliorganisaatiot track by aliorg.oid">
            <div class="row">
                <label class="offset2">
                    <span ng-style="{'margin-left':'{{aliorg.level * 50}}px'}">
                        <a href='organisaatiot/{{aliorg.oid}}'>{{aliorg.nimi}}</a>
                    </span>
                </label>
            </div>
        </div>
        <hr>
    </div> <!-- aoexpanded -->

    <!-- Historioinnin esittäminen -->
    <div class="row">
        <div class="span4">
            <div class="view-row-label">
                <a href="" ng-model="histexpanded" ng-click="histexpanded = !histexpanded">
                    <label>
                        <span ng-class="{'icon-chevron-down':histexpanded, 'icon-chevron-right':!histexpanded}"></span>
                        {{t('Organisaationtarkastelu.historia')}}
                    </label>
                </a>
            </div>
        </div>
    </div>

    <div ng-if="histexpanded">
        <div class="row">
            <div class="span8" data-ng-include data-src="'historialista.html'"></div>
        </div>
    </div>

    <div class="row fixed-footer" ng-if="modalOpen == false" ng-hide="isLoading()">
        <div class="align-right ">
            <button type="button" class="btn" ng-click="cancel()" uib-tooltip="{{t('Organisaatiot.ohje.palaahakuun')}}"><i class="icon-arrow-left"></i></button>
            <button type="button" class="btn btn-primary" ng-click="edit()" auth="updateOrg" auth-service="APP_ORGANISAATIOHALLINTA"
                    auth-org="{{model.organisaatio.oid}}"><i class="icon-pencil"></i> {{t('Organisaationtarkastelu.muokkaa')}}</button>
        </div>
        <span>&nbsp;</span>
    </div>
</form>