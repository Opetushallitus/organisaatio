<!DOCTYPE html>
<!--
Copyright (c) 2014 The Finnish Board of Education - Opetushallitus

This program is free software:  Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://www.osor.eu/eupl/

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-->

<!-- Hakijapalvelujen muokkaus -->
<tabset>
    <tab select="model.hplang='+'">
        <tab-heading>
            <span class="icon-plus-sign"></span>
        </tab-heading>
    </tab>
    <tab ng-repeat="tab in model.mkSections.hp.tabs"
         active="tab.active"
         select="model.hplang=tab.lang">
        <tab-heading>
            {{model.uriLocalizedNames[tab.lang]}} <a ng-click="model.removeMkLang('hp', $index)" href=''><span class='icon-remove'>&nbsp;</span></a>
        </tab-heading>
    </tab>
</tabset>
<div ng-if="model.hplang === '+'">
    <div class="control-group">
        <select id="maa" ng-model="model.mkSections.hp.placeholder"
                ng-options="kieli.uri as kieli.nimi for kieli in model.koodisto.isokielet | orderBy:'nimi'" ng-required="false"
                ng-click="model.addMkLang('hp')">
            <option value="">{{'Organisaationmuokkaus.lisaakieli'| i18n}}</option>
        </select>
    </div>
</div>
<div ng-show="model.hplang !== '+'" ng-repeat='tab in model.mkSections.hp.tabs'>
    <div ng-show='tab.lang === model.hplang'>
        <div class="control-group">
            <label class="control-label">
                {{'Organisaationtarkastelu.hakutoimistonnimi'| i18n}}
            </label>

            <div class="controls">
                <input id="htnimifi" type="text" name="htnimifi" class="span6" oph-null-if-zero-length oph-enter
                       ng-model="model.organisaatio.metadata.hakutoimistonNimi[model.hplang]" oph-decode-name
                       ie-placeholder placeholder="{{'Organisaationtarkastelu.hakutoimistonnimi'| i18n}}"
                       ng-minlength="3" ng-maxlength="255"
                       ng-required="false"/>
            </div>
            <div>
                <span class="text-error" ng-show="hakijapalvelut.nimi.$error.minlength || hakijapalvelut.nimi.$error.maxlength">
                    {{'Organisaationmuokkaus.validointi.osoitevirheellinen'| i18n}}
                </span>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">
                {{'Organisaationmuokkaus.osoitemuoto'| i18n}}
            </label>
            <div class="controls">
                <select id="hposoitemuoto" name="hposoitemuoto" ng-model="model.osoitemuoto.hp[model.hplang]">
                    <option value='suomalainen'>{{'Organisaationmuokkaus.suomalainenosoitemuoto'| i18n}}</option>
                    <option value='kansainvalinen'>{{'Organisaationmuokkaus.kansainvalinenosoitemuoto'| i18n}}</option>
                </select>
                <div><em class="muted">{{'Organisaationmuokkaus.ohje.osoitteentallennus'| i18n}}</em></div>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">
                {{'Organisaationtarkastelu.postiosoite'| i18n}}
            </label>
            <div class="controls" ng-show="model.osoitemuoto.hp[model.hplang] === 'suomalainen'">
                <input id="mdpostiosoitefi" type="text" maxlength="100" name="mdpostiosoitefi" class="span6"
                       ie-placeholder placeholder="{{'Organisaationmuokkaus.osoite'| i18n}}" oph-null-if-zero-length oph-enter
                       ng-minlength="3" ng-maxlength="100" oph-decode-name
                       ng-model="model.mdyhteystiedot[model.hplang].posti.osoite"
                       ng-change="model.copyAddress(true, true)"/>
                &nbsp;&nbsp;&nbsp;
                <input id="mdpostipostifi" name="mdpostipostifi" type="text" oph-validate-postcode="hp" oph-null-if-zero-length oph-enter
                       ng-model="model.mdyhteystiedot.postinumerot[model.hplang].posti" class="span2"
                       typeahead="nro for nro in model.koodisto.postinumerot | filter:$viewValue | limitTo:10"
                       ie-placeholder placeholder="{{'Organisaationmuokkaus.postinumero'| i18n}}" typeahead-editable="true"
                       ng-required='model.mdyhteystiedot[model.hplang].posti.osoite'
                       ng-blur="model.setPostinumero(true, model.mdyhteystiedot[model.hplang].posti, model.mdyhteystiedot.postinumerot[model.hplang].posti)">
                &nbsp;{{model.getLocalizedPaikka(model.mdyhteystiedot.postinumerot[model.hplang].posti, model.hplang)}}
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdpostiosoitefi.$error.minlength || hakijapalvelut.mdpostiosoitefi.$error.maxlength">
                        {{'Organisaationmuokkaus.validointi.osoitevirheellinen'| i18n}}
                    </span>
                </div>
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdpostipostifi.$error.ophpostcode">
                        {{'Organisaationmuokkaus.validointi.postinumerovirheellinen'| i18n}}
                    </span>
                </div>
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdpostipostifi.$error.required">
                        {{'Organisaationmuokkaus.postinumero' | i18n}} {{'Organisaationmuokkaus.validointi.pakollinen' | i18n}}
                    </span>
                </div>
            </div>
            <div class="controls" ng-show="model.osoitemuoto.hp[model.hplang] !== 'suomalainen'">
                <textarea id="mdkvpostiosoitefi" name="mdkvpostiosoitefi" rows="6" oph-null-if-zero-length
                          ng-model="model.mdyhteystiedot[model.hplang].ulkomainen_posti.osoite" oph-decode-name
                          ng-disabled="disabled" class="span6"
                          ng-change="model.copyAddress(true, false)" ></textarea>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">
                {{'Organisaationtarkastelu.kayntiosoite'| i18n}}
            </label>
            <div class="controls" ng-show="model.osoitemuoto.hp[model.hplang] === 'suomalainen'">
                <input id="mdkayntiosoitefi" type="text" maxlength="100" name="mdkayntiosoitefi" class="span6"
                       ie-placeholder placeholder="{{'Organisaationmuokkaus.osoite'| i18n}}" oph-null-if-zero-length oph-enter
                       ng-minlength="3" ng-maxlength="100" oph-decode-name
                       ng-disabled="model.osoitemuoto.hpsamaosoite[model.hplang] === true"
                       ng-model="model.mdyhteystiedot[model.hplang].kaynti.osoite"/>
                &nbsp;&nbsp;&nbsp;
                <input id="mdkayntipostifi" name="mdkayntipostifi" type="text" oph-validate-postcode="hp" oph-null-if-zero-length oph-enter
                       ng-model="model.mdyhteystiedot.postinumerot[model.hplang].kaynti" class="span2"
                       ng-disabled="model.osoitemuoto.hpsamaosoite[model.hplang] === true"
                       typeahead="nro for nro in model.koodisto.postinumerot | filter:$viewValue | limitTo:10"
                       ie-placeholder placeholder="{{'Organisaationmuokkaus.postinumero'| i18n}}" typeahead-editable="true"
                       ng-blur="model.setPostinumero(true, model.mdyhteystiedot[model.hplang].kaynti, model.mdyhteystiedot.postinumerot[model.hplang].kaynti)">
                &nbsp;{{model.getLocalizedPaikka(model.mdyhteystiedot.postinumerot[model.hplang].kaynti, model.hplang)}}
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdkayntiosoitefi.$error.minlength || hakijapalvelut.mdkayntiosoitefi.$error.maxlength">
                        {{'Organisaationmuokkaus.validointi.osoitevirheellinen'| i18n}}
                    </span>
                </div>
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdkayntipostifi.$error.ophpostcode">
                        {{'Organisaationmuokkaus.validointi.postinumerovirheellinen'| i18n}}
                    </span>
                </div>
                <div>
                    <input type='checkbox' ng-model="model.osoitemuoto.hpsamaosoite[model.hplang]"
                           ng-change="model.copyAddress(true, true)"/>{{'Organisaationmuokkaus.samaosoite'| i18n}}
                </div>
            </div>
            <div class="controls" ng-if="model.osoitemuoto.hp[model.hplang] !== 'suomalainen'">
                <textarea id="mdkvkayntiosoitefi" name="mdkvkayntiosoitefi" rows="6" oph-null-if-zero-length
                          ng-model="model.mdyhteystiedot[model.hplang].ulkomainen_kaynti.osoite" oph-decode-name
                          ng-disabled="model.osoitemuoto.hpsamaosoite[model.hplang] === true" class="span6"></textarea>
                <div>
                    <input type='checkbox' ng-model="model.osoitemuoto.hpsamaosoite[model.hplang]"
                           ng-change="model.copyAddress(true, false)"/>{{'Organisaationmuokkaus.samaosoite'| i18n}}
                </div>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">
                {{'Organisaationtarkastelu.puhelinnumero'| i18n}}
            </label>
            <div class="controls">
                <input id="mdpuhelinnumero" type="text" name="mdpuhelinnumero"
                       ng-model="model.mdyhteystiedot[model.hplang].puhelin.numero" oph-null-if-zero-length oph-enter
                       ie-placeholder placeholder="{{'Organisaationtarkastelu.puhelinnumero'| i18n}}" ng-pattern="/^[\d \-\+]+$/"/>
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdpuhelinnumero.$error.pattern">
                        {{'Organisaationtarkastelu.puhelinnumero'| i18n}}
                        {{'Organisaationmuokkaus.validointi.virheellinen'| i18n}}
                    </span>
                </div>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">
                {{'Organisaationtarkastelu.faksinumero'| i18n}}
            </label>
            <div class="controls">
                <input id="mdfaksinumero" type="text" maxlength="20" name="mdfaksinumero"
                       ng-model="model.mdyhteystiedot[model.hplang].faksi.numero" oph-null-if-zero-length oph-enter
                       ie-placeholder placeholder="{{'Organisaationtarkastelu.faksinumero'| i18n}}" ng-pattern="/^[\d \-\+]+$/"/>
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdfaksinumero.$error.pattern">
                        {{'Organisaationtarkastelu.faksinumero'| i18n}}
                        {{'Organisaationmuokkaus.validointi.virheellinen'| i18n}}
                    </span>
                </div>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">
                {{'Organisaationtarkastelu.sahkopostiosoite'| i18n}}
            </label>
            <div class="controls">
                <input id="mdsahkopostiosoite" type="email" name="mdsahkopostiosoite" class="span6" maxlength="255"
                       ng-model="model.mdyhteystiedot[model.hplang].email.email" oph-null-if-zero-length oph-enter
                       ie-placeholder placeholder="{{'Organisaationtarkastelu.sahkopostiosoite'| i18n}}"/>
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdsahkopostiosoite.$error.email">
                        {{'Organisaationtarkastelu.sahkopostiosoite'| i18n}}
                        {{'Organisaationmuokkaus.validointi.virheellinen'| i18n}}
                    </span>
                </div>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label">
                {{'Organisaationtarkastelu.wwwosoite'| i18n}}
            </label>
            <div class="controls">
                <input id="mdwwwosoite" type="text" name="mdwwwosoite" class="span6" maxlength="255"
                       ng-model="model.mdyhteystiedot[model.hplang].www.www" oph-null-if-zero-length oph-enter
                       ie-placeholder placeholder="{{'Organisaationtarkastelu.wwwosoite'| i18n}}" ng-required="false"
                       http-prefix oph-pattern="{{model.url.validator}}"/>
                <div>
                    <span class="text-error" ng-show="hakijapalvelut.mdwwwosoite.$error.ophPattern">
                        {{'Organisaationmuokkaus.validation.some'| i18n}}</span>
                </div>
            </div>
        </div>

    </div>
</div>
<hr>
