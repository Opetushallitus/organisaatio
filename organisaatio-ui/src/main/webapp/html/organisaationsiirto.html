<!DOCTYPE html>
<!--
Copyright (c) 2014 The Finnish Board of Education - Opetushallitus

This program is free software:  Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://www.osor.eu/eupl/

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-->

<!-- Organisaation Siirto -->
<div class="modal-header">
    <h3>{{'organisaatio.move.topic' | i18n}}</h3>
</div>

<script type="text/ng-template" id="siirtoKohdeTemplate.html">
  <a>
    <span bind-html-unsafe="match.label | typeaheadHighlight:query"></span>
    <i>({{match.model.tunnus}})</i>
  </a>
</script>

<div class="modal-body" style='overflow-y: visible;'>

    <div class="form-fluid">
        {{'organisaatio.move.to.be.moved' | i18n}}: {{nimi}}
        <br/>
        <br/>

        <form name="form">
            <fieldset>

                <label class="checkbox">
                    <input type="checkbox" ng-disabled="koulutustoimija" ng-change="updateSearch()" ng-model="options.merge">
                    {{'organisaatio.move.merge.to.parent.organization' | i18n}}
                </label>

                <br/>
                <label>{{siirtoKohdeTitle}}</label>
                <input type="text" class="input-xxlarge"
                       ng-model="options.newParentOrganization"
                       ng-disabled="disabled" ng-required="true"
                       ie-placeholder placeholder="{{siirtoKohdeTitle}}"
                       typeahead="suggest as suggest.name for suggest in suggests | filter:{nameTunnus: $viewValue} | limitTo:10"
                       typeahead-template-url="siirtoKohdeTemplate.html"
                       typeahead-editable="false" oph-enter>

                <br/>

                <label>{{'organisaatio.move.comes.into.effect' | i18n}}</label>

                <input oph-enter type="text"
                       name="luontipvm"
                       formatteddate
                       datepicker-popup="dd.MM.yyyy"
                       min="'1990-01-01'"
                       max="'2030-12-31'"
                       ng-model="options.date"
                       close-on-date-selection="true"
                       ie-placeholder
                       placeholder="{{'organisaatio.move.date' | i18n}}"
                       close-text="{{'Organisaationmuokkaus.sulje'| i18n}}"
                       current-text="{{'Organisaationmuokkaus.tanaan'| i18n}}"
                       clear-text="{{'Organisaationmuokkaus.tyhjenna'| i18n}}"
                       toggle-weeks-text="{{'Organisaationmuokkaus.viikkonumerot'| i18n}}"
                       required/>
            </fieldset>
        </form>
    </div>

</div>

<div class="modal-footer">
    <div class="form-fluid">
        <button class="btn" ng-click="$dismiss()">{{'Organisaationpoisto.peruuta' | i18n}}</button>
        <button class="btn btn-primary" ng-disabled="!form.$dirty || form.$invalid"  ng-click="$close(options)">
            {{'Organisaationpoisto.ok' | i18n}}
        </button>
    </div>
</div>



