<!DOCTYPE html>
<!--
Copyright (c) 2014 The Finnish Board of Education - Opetushallitus

This program is free software:  Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://www.osor.eu/eupl/

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-->

<!-- Yhteystietojen muokkaus -->
<tabset>
    <tab ng-repeat="yttab in model.yttabs"
         heading="{{model.uriLocalizedNames[yttab]}}"
         select="model.ytlang=yttab">
    </tab>
</tabset>

<div class="control-group">
    <label class="control-label">
        {{'Organisaationtarkastelu.kayntiosoite'| i18n}}
    </label>
    <div class="controls" ng-show="model.osoitemuoto.yt[model.ytlang] === 'suomalainen'">
        <input id="kayntiosoitefi" type="text" maxlength="100" name="kayntiosoitefi" class="span6" oph-null-if-zero-length oph-enter
               ng-model="model.yhteystiedot[model.ytlang].kaynti.osoite" ng-change="model.copyAddress(false, true)"
               ng-minlength="3" ng-maxlength="100" oph-decode-name
               ie-placeholder placeholder="{{'Organisaationmuokkaus.osoite'| i18n}}"/>
        &nbsp;&nbsp;&nbsp;
        <input id="kayntipostifi" name="kayntipostifi" type="text" oph-validate-postcode="yt" oph-null-if-zero-length oph-enter
               ng-model="model.yhteystiedot.postinumerot[model.ytlang].kaynti" class="span2"
               typeahead="nro for nro in model.koodisto.postinumerot | filter:$viewValue | limitTo:10"
               ie-placeholder placeholder="{{'Organisaationmuokkaus.postinumero'| i18n}}" typeahead-editable="true"
               ng-blur="model.setPostinumero(false, model.yhteystiedot[model.ytlang].kaynti, model.yhteystiedot.postinumerot[model.ytlang].kaynti)">
        &nbsp;{{model.getLocalizedPaikka(model.yhteystiedot.postinumerot[model.ytlang].kaynti, model.ytlang)}}
        <div>
            <span class="text-error" ng-show="yhteystiedot.kayntiosoitefi.$error.minlength || yhteystiedot.kayntiosoitefi.$error.maxlength">
                {{'Organisaationmuokkaus.validointi.osoitevirheellinen'| i18n}}
            </span>
        </div>
        <div>
            <span class="text-error" ng-show="yhteystiedot.kayntipostifi.$error.ophpostcode">
                {{'Organisaationmuokkaus.validointi.postinumerovirheellinen'| i18n}}
            </span>
        </div>
    </div>
    <div class="controls" ng-show="model.osoitemuoto.yt[model.ytlang] !== 'suomalainen'">
        <textarea id="kvkayntiosoitefi" name="kvkayntiosoitefi" rows="6" oph-null-if-zero-length
                  ng-model="model.yhteystiedot[model.ytlang].ulkomainen_kaynti.osoite" oph-decode-name
                  ng-disabled="disabled" ng-change="model.copyAddress(false, false)" class="span6"></textarea>
    </div>
</div>
<div class="control-group" ng-if="model.ytlang">
    <label class="control-label">
        {{'Organisaationtarkastelu.postiosoite'| i18n}}
    </label>
    <div class="controls" ng-show="model.osoitemuoto.yt[model.ytlang] === 'suomalainen'">
        <input id="postiosoitefi" type="text" maxlength="100" name="postiosoitefi" class="span6" oph-null-if-zero-length oph-enter oph-required="yt"
               ng-model="model.yhteystiedot[model.ytlang].posti.osoite"
               ng-disabled="model.osoitemuoto.ytsamaosoite[model.ytlang] === true"
               ng-required="model.osoitemuoto.yt[model.ytlang] === 'suomalainen'"
               ng-minlength="3" ng-maxlength="100" oph-decode-name
               ie-placeholder placeholder="{{'Organisaationmuokkaus.osoite'| i18n}}"/>
        &nbsp;&nbsp;&nbsp;
        <input id="postipostifi" name="postipostifi" type="text" oph-validate-postcode="yt" oph-null-if-zero-length oph-enter
               ng-model="model.yhteystiedot.postinumerot[model.ytlang].posti" class="span2"
               ng-disabled="model.osoitemuoto.ytsamaosoite[model.ytlang] === true"
               typeahead="nro for nro in model.koodisto.postinumerot | filter:$viewValue | limitTo:10"
               ie-placeholder placeholder="{{'Organisaationmuokkaus.postinumero'| i18n}}" typeahead-editable="true"
               ng-required="model.yhteystiedot.postinumerot && model.yhteystiedot[model.ytlang].posti.osoite"
               ng-blur="model.setPostinumero(false, model.yhteystiedot[model.ytlang].posti, model.yhteystiedot.postinumerot[model.ytlang].posti)">
        &nbsp;{{model.getLocalizedPaikka(model.yhteystiedot.postinumerot[model.ytlang].posti, model.ytlang)}}
        <div>
            <span class="text-error" ng-show="yhteystiedot.postiosoitefi.$error.minlength || yhteystiedot.postiosoitefi.$error.maxlength">
                {{'Organisaationmuokkaus.validointi.osoitevirheellinen'| i18n}}
            </span>
        </div>
        <div>
            <span class="text-error" ng-show="yhteystiedot.postipostifi.$error.ophpostcode">
                {{'Organisaationmuokkaus.validointi.postinumerovirheellinen'| i18n}}
            </span>
        </div>
        <div>
            <span class="text-error" ng-show="yhteystiedot.postipostifi.$error.required">
                {{'Organisaationmuokkaus.postinumero' | i18n}} {{'Organisaationmuokkaus.validointi.pakollinen' | i18n}}
            </span>
        </div>
        <div>
            <span class="text-error" ng-show="yhteystiedot.postiosoitefi.$error.required">
                {{'Organisaationmuokkaus.postiosoite' | i18n}} {{'Organisaationmuokkaus.validointi.pakollinen' | i18n}}
            </span>
        </div>
        <!-- <div>
            <input type='checkbox' ng-model="model.osoitemuoto.ytsamaosoite[model.ytlang]"
                   ng-change="model.copyAddress(false, true)"/>{{'Organisaationmuokkaus.samaosoite'| i18n}}
        </div> -->
    </div>
    <div class="controls" ng-if="model.osoitemuoto.yt[model.ytlang] !== 'suomalainen'">
        <textarea id="kvpostiosoitefi" name="kvpostiosoitefi" rows="6" oph-null-if-zero-length
                  ng-model="model.yhteystiedot[model.ytlang].ulkomainen_posti.osoite" oph-decode-name
                  ng-disabled="model.osoitemuoto.ytsamaosoite[model.ytlang] === true" class="span6"></textarea>
        <div>
            <input type='checkbox' ng-model="model.osoitemuoto.ytsamaosoite[model.ytlang]"
                   ng-change="model.copyAddress(false, false)"/>{{'Organisaationmuokkaus.samaosoite'| i18n}}
        </div>
    </div>
</div>

<div class="control-group">
    <label class="control-label">
        {{'Organisaationtarkastelu.puhelinnumero'| i18n}}
    </label>
    <div class="controls">
        <input id="puhelinnumero" type="text" name="puhelinnumero"
               ng-model="model.yhteystiedot[model.ytlang].puhelin.numero" oph-null-if-zero-length oph-enter
               ie-placeholder placeholder="{{'Organisaationtarkastelu.puhelinnumero'| i18n}}" ng-pattern="/^[\d \-\+]+$/"/>
        <div>
            <span class="text-error" ng-show="yhteystiedot.puhelinnumero.$error.pattern">
                {{'Organisaationtarkastelu.puhelinnumero'| i18n}}
                {{'Organisaationmuokkaus.validointi.virheellinen'| i18n}}
            </span>
        </div>
    </div>
</div>

<div class="control-group">
    <label class="control-label">
        {{'Organisaationtarkastelu.faksinumero'| i18n}}
    </label>
    <div class="controls">
        <input id="faksinumero" type="text" maxlength="20" name="faksinumero"
               ng-model="model.yhteystiedot[model.ytlang].faksi.numero" oph-null-if-zero-length oph-enter
               ie-placeholder placeholder="{{'Organisaationtarkastelu.faksinumero'| i18n}}" ng-pattern="/^[\d \-\+]+$/"/>
        <div>
            <span class="text-error" ng-show="yhteystiedot.faksinumero.$error.pattern">
                {{'Organisaationtarkastelu.faksinumero'| i18n}}
                {{'Organisaationmuokkaus.validointi.virheellinen'| i18n}}
            </span>
        </div>
    </div>
</div>

<div class="control-group">
    <label class="control-label">
        {{'Organisaationtarkastelu.sahkopostiosoite'| i18n}}
    </label>
    <div class="controls">
        <input id="sahkopostiosoite" type="email" name="sahkopostiosoite" class="span6" maxlength="255"
               ng-model="model.yhteystiedot[model.ytlang].email.email" oph-null-if-zero-length oph-enter
               ie-placeholder placeholder="{{'Organisaationtarkastelu.sahkopostiosoite'| i18n}}"/>
        <div>
            <span class="text-error" ng-show="yhteystiedot.sahkopostiosoite.$error.email">
                {{'Organisaationtarkastelu.sahkopostiosoite'| i18n}}
                {{'Organisaationmuokkaus.validointi.virheellinen'| i18n}}
            </span>
        </div>
    </div>
</div>

<div class="control-group">
    <label class="control-label">
        {{'Organisaationtarkastelu.wwwosoite'| i18n}}
    </label>
    <div class="controls">
        <input id="wwwosoite" type="text" name="wwwosoite" class="span6" maxlength="255"
               ng-model="model.yhteystiedot[model.ytlang].www.www" oph-null-if-zero-length oph-enter
               ie-placeholder placeholder="{{'Organisaationtarkastelu.wwwosoite'| i18n}}" ng-required="false"
               http-prefix oph-pattern="{{model.url.validator}}"/>
        <div>
            <span class="text-error" ng-show="yhteystiedot.wwwosoite.$error.ophPattern">
                {{'Organisaationmuokkaus.validation.some'| i18n}}</span>
        </div>
    </div>
</div>
