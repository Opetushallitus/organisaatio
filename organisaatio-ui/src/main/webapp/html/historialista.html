<!DOCTYPE html>
<!--
Copyright (c) 2014 The Finnish Board of Education - Opetushallitus

This program is free software:  Licensed under the EUPL, Version 1.1 or - as
soon as they will be approved by the European Commission - subsequent versions
of the EUPL (the "Licence");

You may not use this work except in compliance with the Licence.
You may obtain a copy of the Licence at: http://www.osor.eu/eupl/

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-->

<table ng-if="model.isOPHParent() === false" class="table table-striped" >
    <thead>
        <tr>
            <th>{{'Organisaationtarkastelu.histori.alkupvm' | i18n }}</th>
            <th>{{'Organisaationtarkastelu.histori.loppupvm' | i18n }}</th>
            <th>{{'Organisaationtarkastelu.historia.parent.nimi' | i18n}}</th>
        </tr>
    </thead>
    <tbody>
    <tr ng-repeat="entry in model.historia.parentSuhteet | orderBy:'alkuPvm'">
        <td>{{entry.alkuPvm}}</td>
        <td>{{entry.loppuPvm}}</td>
        <td>
            <span>
                <a href='#/organisaatiot/{{entry.parentOid}}'>{{model.getLocalizedValue(entry.parentNimi)}}</a>
            </span>
        </td>
    </tr>
    </tbody>
</table>

<table ng-if="model.historia.childSuhteet.length > 0" class="table table-striped">
    <thead>
        <tr>
            <th>{{'Organisaationtarkastelu.histori.alkupvm' | i18n }}</th>
            <th>{{'Organisaationtarkastelu.histori.loppupvm' | i18n }}</th>
            <th>{{'Organisaationtarkastelu.historia.lapset.nimi' | i18n}}</th>
        </tr>
    </thead>
    <tbody>
    <tr ng-repeat="entry in model.historia.childSuhteet | orderBy:[model.getLocalizedValueWithProperty('childNimi'), 'alkuPvm']">
        <td>{{entry.alkuPvm}}</td>
        <td>{{entry.loppuPvm}}</td>
        <td>
            <span>
                <a href='#/organisaatiot/{{entry.childOid}}'>{{model.getLocalizedValue(entry.childNimi)}}</a>
            </span>
        </td>
    </tr>
    </tbody>
</table>
